import{r,aW as ae,B as A,aX as Y,n as M,aY as U,aZ as ce,q as k,a_ as ie,a$ as L,b0 as V,b1 as ue,b2 as fe,b3 as me,b4 as de,b5 as F,b6 as Ce,b7 as pe,b8 as ge,b9 as be,ba as ye,bb as E,bc as xe,bd as ve,be as he,bf as Oe}from"./index-69c07cab.js";function W(e){return!!(e&&e.then)}const Pe=e=>{const{type:n,children:l,prefixCls:t,buttonProps:o,close:c,autoFocus:y,emitEvent:d,quitOnNullishReturnValue:u,actionFn:a}=e,s=r.useRef(!1),C=r.useRef(null),[f,i]=ae(!1),p=function(){c==null||c.apply(void 0,arguments)};r.useEffect(()=>{let g=null;return y&&(g=setTimeout(()=>{var m;(m=C.current)===null||m===void 0||m.focus()})),()=>{g&&clearTimeout(g)}},[]);const b=g=>{W(g)&&(i(!0),g.then(function(){i(!1,!0),p.apply(void 0,arguments),s.current=!1},m=>(i(!1,!0),s.current=!1,Promise.reject(m))))},v=g=>{if(s.current)return;if(s.current=!0,!a){p();return}let m;if(d){if(m=a(g),u&&!W(m)){s.current=!1,p(g);return}}else if(a.length)m=a(c),s.current=!1;else if(m=a(),!m){p();return}b(m)};return r.createElement(A,Object.assign({},Y(n),{onClick:v,loading:f,prefixCls:t},o,{ref:C}),l)},q=Pe;var Te=globalThis&&globalThis.__rest||function(e,n){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(l[t[o]]=e[t[o]]);return l};function X(e,n){return r.createElement("span",{className:`${e}-close-x`},n||r.createElement(ie,{className:`${e}-close-icon`}))}const G=e=>{const{okText:n,okType:l="primary",cancelText:t,confirmLoading:o,onOk:c,onCancel:y,okButtonProps:d,cancelButtonProps:u,footer:a}=e,[s]=L("Modal",V());return a===void 0?r.createElement(r.Fragment,null,r.createElement(A,Object.assign({onClick:y},u),t||(s==null?void 0:s.cancelText)),r.createElement(A,Object.assign({},Y(l),{loading:o,onClick:c},d),n||(s==null?void 0:s.okText))):a},ke=e=>{const{prefixCls:n,className:l,closeIcon:t,closable:o,type:c,title:y,children:d}=e,u=Te(e,["prefixCls","className","closeIcon","closable","type","title","children"]),{getPrefixCls:a}=r.useContext(M),s=a(),C=n||a("modal"),[,f]=U(C),i=`${C}-confirm`;let p={};return c?p={closable:o??!1,title:"",footer:"",children:r.createElement(J,Object.assign({},e,{confirmPrefixCls:i,rootPrefixCls:s,content:d}))}:p={closable:o??!0,title:y,footer:e.footer===null?e.footer:r.createElement(G,Object.assign({},e)),children:d},r.createElement(ce,Object.assign({prefixCls:C,className:k(f,`${C}-pure-panel`,c&&i,c&&`${i}-${c}`,l)},u,{closeIcon:X(C,t),closable:o},p))},Ee=ke;var je=globalThis&&globalThis.__rest||function(e,n){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(l[t[o]]=e[t[o]]);return l};let B;const we=e=>{B={x:e.pageX,y:e.pageY},setTimeout(()=>{B=null},100)};ue()&&document.documentElement.addEventListener("click",we,!0);const Ne=e=>{var n;const{getPopupContainer:l,getPrefixCls:t,direction:o}=r.useContext(M),c=w=>{const{onCancel:P}=e;P==null||P(w)},y=w=>{const{onOk:P}=e;P==null||P(w)},{prefixCls:d,className:u,rootClassName:a,open:s,wrapClassName:C,centered:f,getContainer:i,closeIcon:p,focusTriggerAfterClose:b=!0,visible:v,width:g=520}=e,m=je(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose","visible","width"]),h=t("modal",d),x=t(),[j,S]=U(h),I=k(C,{[`${h}-centered`]:!!f,[`${h}-wrap-rtl`]:o==="rtl"});return j(r.createElement(fe,null,r.createElement(me,{status:!0,override:!0},r.createElement(de,Object.assign({width:g},m,{getContainer:i===void 0?l:i,prefixCls:h,rootClassName:k(S,a),wrapClassName:I,footer:e.footer===null?e.footer:r.createElement(G,Object.assign({},e,{onOk:y,onCancel:c})),visible:s??v,mousePosition:(n=m.mousePosition)!==null&&n!==void 0?n:B,onClose:c,closeIcon:X(h,p),focusTriggerAfterClose:b,transitionName:F(x,"zoom",e.transitionName),maskTransitionName:F(x,"fade",e.maskTransitionName),className:k(S,u)})))))},Z=Ne;function J(e){const{icon:n,onCancel:l,onOk:t,close:o,okText:c,okButtonProps:y,cancelText:d,cancelButtonProps:u,confirmPrefixCls:a,rootPrefixCls:s,type:C,okCancel:f,footer:i,locale:p}=e;let b=n;if(!n&&n!==null)switch(C){case"info":b=r.createElement(be,null);break;case"success":b=r.createElement(ge,null);break;case"error":b=r.createElement(pe,null);break;default:b=r.createElement(Ce,null)}const v=e.okType||"primary",g=f??C==="confirm",m=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[h]=L("Modal"),x=p||h,j=g&&r.createElement(q,{actionFn:l,close:o,autoFocus:m==="cancel",buttonProps:u,prefixCls:`${s}-btn`},d||(x==null?void 0:x.cancelText));return r.createElement("div",{className:`${a}-body-wrapper`},r.createElement("div",{className:`${a}-body`},b,e.title===void 0?null:r.createElement("span",{className:`${a}-title`},e.title),r.createElement("div",{className:`${a}-content`},e.content)),i!==void 0?i:r.createElement("div",{className:`${a}-btns`},j,r.createElement(q,{type:v,actionFn:t,close:o,autoFocus:m==="ok",buttonProps:y,prefixCls:`${s}-btn`},c||(g?x==null?void 0:x.okText:x==null?void 0:x.justOkText))))}const K=e=>{const{close:n,zIndex:l,afterClose:t,visible:o,open:c,keyboard:y,centered:d,getContainer:u,maskStyle:a,direction:s,prefixCls:C,wrapClassName:f,rootPrefixCls:i,iconPrefixCls:p,bodyStyle:b,closable:v=!1,closeIcon:g,modalRender:m,focusTriggerAfterClose:h}=e,x=`${C}-confirm`,j=e.width||416,S=e.style||{},I=e.mask===void 0?!0:e.mask,w=e.maskClosable===void 0?!1:e.maskClosable,P=k(x,`${x}-${e.type}`,{[`${x}-rtl`]:s==="rtl"},e.className);return r.createElement(ye,{prefixCls:i,iconPrefixCls:p,direction:s},r.createElement(Z,{prefixCls:C,className:P,wrapClassName:k({[`${x}-centered`]:!!e.centered},f),onCancel:()=>n==null?void 0:n({triggerCancel:!0}),open:c,title:"",footer:null,transitionName:F(i,"zoom",e.transitionName),maskTransitionName:F(i,"fade",e.maskTransitionName),mask:I,maskClosable:w,maskStyle:a,style:S,bodyStyle:b,width:j,zIndex:l,afterClose:t,keyboard:y,centered:d,getContainer:u,closable:v,closeIcon:g,modalRender:m,focusTriggerAfterClose:h},r.createElement(J,Object.assign({},e,{confirmPrefixCls:x}))))},Se=[],T=Se;var Fe=globalThis&&globalThis.__rest||function(e,n){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(l[t[o]]=e[t[o]]);return l};let ee="";function $e(){return ee}function N(e){const n=document.createDocumentFragment();let l=Object.assign(Object.assign({},e),{close:y,open:!0}),t;function o(){for(var u=arguments.length,a=new Array(u),s=0;s<u;s++)a[s]=arguments[s];const C=a.some(f=>f&&f.triggerCancel);e.onCancel&&C&&e.onCancel.apply(e,[()=>{}].concat(E(a.slice(1))));for(let f=0;f<T.length;f++)if(T[f]===y){T.splice(f,1);break}xe(n)}function c(u){var{okText:a,cancelText:s,prefixCls:C}=u,f=Fe(u,["okText","cancelText","prefixCls"]);clearTimeout(t),t=setTimeout(()=>{const i=V(),{getPrefixCls:p,getIconPrefixCls:b}=he(),v=p(void 0,$e()),g=C||`${v}-modal`,m=b();ve(r.createElement(K,Object.assign({},f,{prefixCls:g,rootPrefixCls:v,iconPrefixCls:m,okText:a,locale:i,cancelText:s||i.cancelText})),n)})}function y(){for(var u=arguments.length,a=new Array(u),s=0;s<u;s++)a[s]=arguments[s];l=Object.assign(Object.assign({},l),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),o.apply(this,a)}}),l.visible&&delete l.visible,c(l)}function d(u){typeof u=="function"?l=u(l):l=Object.assign(Object.assign({},l),u),c(l)}return c(l),T.push(y),{destroy:y,update:d}}function te(e){return Object.assign(Object.assign({},e),{type:"warning"})}function ne(e){return Object.assign(Object.assign({},e),{type:"info"})}function oe(e){return Object.assign(Object.assign({},e),{type:"success"})}function re(e){return Object.assign(Object.assign({},e),{type:"error"})}function le(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Ie(e){let{rootPrefixCls:n}=e;ee=n}function Re(){const[e,n]=r.useState([]),l=r.useCallback(t=>(n(o=>[].concat(E(o),[t])),()=>{n(o=>o.filter(c=>c!==t))}),[]);return[e,l]}const _e=(e,n)=>{let{afterClose:l,config:t}=e;var o;const[c,y]=r.useState(!0),[d,u]=r.useState(t),{direction:a,getPrefixCls:s}=r.useContext(M),C=s("modal"),f=s(),i=function(){y(!1);for(var v=arguments.length,g=new Array(v),m=0;m<v;m++)g[m]=arguments[m];const h=g.some(x=>x&&x.triggerCancel);d.onCancel&&h&&d.onCancel.apply(d,[()=>{}].concat(E(g.slice(1))))};r.useImperativeHandle(n,()=>({destroy:i,update:v=>{u(g=>Object.assign(Object.assign({},g),v))}}));const p=(o=d.okCancel)!==null&&o!==void 0?o:d.type==="confirm",[b]=L("Modal",Oe.Modal);return r.createElement(K,Object.assign({prefixCls:C,rootPrefixCls:f},d,{close:i,open:c,afterClose:l,okText:d.okText||(p?b==null?void 0:b.okText:b==null?void 0:b.justOkText),direction:a,cancelText:d.cancelText||(b==null?void 0:b.cancelText)}))},Ae=r.forwardRef(_e);let z=0;const Be=r.memo(r.forwardRef((e,n)=>{const[l,t]=Re();return r.useImperativeHandle(n,()=>({patchElement:t}),[]),r.createElement(r.Fragment,null,l)}));function Me(){const e=r.useRef(null),[n,l]=r.useState([]);r.useEffect(()=>{n.length&&(E(n).forEach(y=>{y()}),l([]))},[n]);const t=r.useCallback(c=>function(d){var u;z+=1;const a=r.createRef();let s;const C=r.createElement(Ae,{key:`modal-${z}`,config:c(d),ref:a,afterClose:()=>{s==null||s()}});return s=(u=e.current)===null||u===void 0?void 0:u.patchElement(C),s&&T.push(s),{destroy:()=>{function f(){var i;(i=a.current)===null||i===void 0||i.destroy()}a.current?f():l(i=>[].concat(E(i),[f]))},update:f=>{function i(){var p;(p=a.current)===null||p===void 0||p.update(f)}a.current?i():l(p=>[].concat(E(p),[i]))}}},[]);return[r.useMemo(()=>({info:t(ne),success:t(oe),error:t(re),warning:t(te),confirm:t(le)}),[]),r.createElement(Be,{key:"modal-holder",ref:e})]}function se(e){return N(te(e))}const O=Z;O.useModal=Me;O.info=function(n){return N(ne(n))};O.success=function(n){return N(oe(n))};O.error=function(n){return N(re(n))};O.warning=se;O.warn=se;O.confirm=function(n){return N(le(n))};O.destroyAll=function(){for(;T.length;){const n=T.pop();n&&n()}};O.config=Ie;O._InternalPanelDoNotUseOrYouWillBeFired=Ee;const De=O;var $={},Le={get exports(){return $},set exports(e){$=e}},R,D;function We(){if(D)return R;D=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return R=e,R}var _,H;function qe(){if(H)return _;H=1;var e=We();function n(){}function l(){}return l.resetWarningCache=n,_=function(){function t(y,d,u,a,s,C){if(C!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function o(){return t}var c={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:o,element:t,elementType:t,instanceOf:o,node:t,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:l,resetWarningCache:n};return c.PropTypes=c,c},_}var Q;function He(){return Q||(Q=1,Le.exports=qe()()),$}export{De as M,He as r};
