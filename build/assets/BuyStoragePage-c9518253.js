import{r as h,A as v,_ as d,u as k,J as x,bg as S,a as e,j as c,T as r,B as u,bh as w,R as m,C as o}from"./index-69c07cab.js";import{s as j,C as I}from"./styled-components.browser.esm-d2f299d7.js";import{D}from"./index-3cb82926.js";import"./PlusOutlined-6d2c6c37.js";var P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 418.7C765.6 297.9 648.9 212 512.2 212S258.8 297.8 213 418.6C127.3 441.1 64 519.1 64 612c0 110.5 89.5 200 199.9 200h496.2C870.5 812 960 722.5 960 612c0-92.7-63.1-170.7-148.6-193.3zm36.3 281a123.07 123.07 0 01-87.6 36.3H263.9c-33.1 0-64.2-12.9-87.6-36.3A123.3 123.3 0 01140 612c0-28 9.1-54.3 26.2-76.3a125.7 125.7 0 0166.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10c54.3 14.5 92.1 63.8 92.1 120 0 33.1-12.9 64.3-36.3 87.7z"}}]},name:"cloud",theme:"outlined"};const T=P;var g=function(a,t){return h.createElement(v,d(d({},a),{},{ref:t,icon:T}))};g.displayName="CloudOutlined";const A=h.forwardRef(g),B=j(I)`
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  height: 100%;
  .ant-card-body {
    padding-right: 0;
    padding-left: 0;
    padding-bottom: 0;
    height: 100%;
  }
`,O=({storage:l,name:a,price:t,isCurrentPlan:n,detail:f,packageID:i})=>{const{showErrorNotification:C}=k(),{currentPackageID:y}=x(),[p,{loading:N}]=S(),b=async()=>{try{const{data:s}=await p({variables:{packageId:i}});s!=null&&s.createCheckoutSession&&(window.location.href=s.createCheckoutSession)}catch(s){C(s.message)}};return e(B,{children:c("div",{className:"flex flex-col justify-evenly items-center h-full",children:[c("div",{className:"flex flex-col justify-center text-center",children:[e(r.Text,{className:"text-lg",children:a}),c(r.Text,{className:" text-4xl font-medium",children:[l," GB"]}),c(r.Text,{className:"text-lg font-medium text-green-500",children:["$",t]})]}),n&&e(u,{type:"default",disabled:n,children:"Current Plan"}),!n&&e(u,{type:"primary",onClick:b,loading:N,className:`${Number(y)>i?"invisible":""}`,children:"Buy Now"}),e(D,{className:"mt-4 mb-1"}),e(r.Text,{className:"text-xl",children:f})]})})},G=()=>{const{currentPackageID:l}=x(),{data:a}=w({fetchPolicy:"cache-and-network"});return e("div",{className:"h-full flex items-center justify-center",children:c("div",{className:"w-3/4 my-0 mx-auto",children:[c(m,{justify:"center",className:"text-center",children:[e(o,{span:24,children:e(A,{className:"text-8xl"})}),e(o,{span:24,children:e(r.Text,{className:"text-lg font-medium",children:"Choose the plan that's right for you"})})]}),e(m,{className:"p-8 min-h-[20rem]",gutter:[16,16],children:a==null?void 0:a.getAllPackages.map(t=>e(o,{md:24,xl:8,children:e(O,{storage:t.maxStorage,name:t.name,price:t.price,detail:t.detail,isCurrentPlan:t.ID===l,packageID:t.ID})},t.ID))})]})})};export{G as BuyStoragePage};
